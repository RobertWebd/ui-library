import{a as T,j as l}from"./jsx-runtime-29545a09.js";import{r as d}from"./index-76fb7be0.js";import{I as U}from"./Input-cdb05c9d.js";import{B as S}from"./Button-f52c3441.js";import"./_commonjsHelpers-de833af9.js";import"./index-8d47fad6.js";const V=new Date,q=[31,28,31,30,31,30,31,31,30,31,30,31],G={year:"numeric",month:"long",day:"numeric"},b=[{dateFrom:new Date(2024,0,1),dateTo:new Date(2024,0,9),label:"New Year"},{dateFrom:new Date(2023,11,15),dateTo:new Date(2023,11,16),label:"RFL"}],c={dateFrom:new Date(2023,9,12),dateTo:new Date(2024,2,15)},Y=["January","February","March","April","May","June","July","August","September","October","November","December"],K=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=new Array(100).fill(0).map((t,n)=>n+1950),k=t=>t.getFullYear(),C=t=>t.getMonth();function X(t){return!(t%4||!(t%100)&&t%400)}const w=(t,n)=>{let s=[];for(let r=t;r<=n;r++)s.push(Y[r]);return s},Z=t=>{const n=new Date,s=n.getFullYear(),r=t.getFullYear(),a=n.getMonth(),h=t.getMonth();return s<r||s===r&&a<h?t:n},ee=t=>{const n=t.getMonth(),s=t.getFullYear();let r=q[n];return X(s)&&n===1&&(r+=1),r},_=(t,n)=>!t||!n?!1:t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate(),te=(t,n)=>{const s=[],r=new Date(t,n),a=ee(r),h=7,D=r.getDay();let p=1;for(let g=0;g<(a+D)/h;g++){s[g]=[];for(let o=0;o<h;o++)g===0&&o<D||p>a?s[g][o]=void 0:s[g][o]=new Date(t,n,p++)}return s};const P=({onSelectDay:t,date:n,className:s})=>{const[r,a]=d.useState(!1),h=o=>!(o.getTime()>=c.dateFrom.getTime()&&o.getTime()<=c.dateTo.getTime()),D=o=>b.some(u=>u.dateFrom.getTime()<=o.getTime()&&u.dateTo.getTime()>=o.getTime()),p=o=>b.find(i=>i.dateFrom.getTime()<=o.getTime()&&i.dateTo.getTime()>=o.getTime()).label;return T("td",{onMouseEnter:()=>a(!0),onMouseOut:()=>a(!1),onClick:()=>t(n),className:(()=>`
      day
      ${_(n,V)&&"currentDay"}
      ${h(n)&&"disabled"} 
      ${D(n)&&"holiday"}
      ${s}
    `)(),children:[n.getDate(),D(n)&&r&&l("div",{className:"hint",children:p(n)})]})};P.__docgenInfo={description:"",methods:[],displayName:"Day"};const R=()=>{const[t,n]=d.useState(""),[s,r]=d.useState(!1),[a,h]=d.useState(Z(c.dateFrom)),[D,p]=d.useState(null),g=d.useRef(null),o=d.useRef(null),u=c.dateFrom.getFullYear(),i=c.dateTo.getFullYear(),M=c.dateFrom.getMonth(),y=c.dateTo.getMonth(),f=a.getFullYear(),$=d.useMemo(()=>a.getFullYear()===u&&a.getMonth()===M,[a,c]),z=d.useMemo(()=>a.getFullYear()===i&&a.getMonth()===y,[a,c]),A=te(a.getFullYear(),a.getMonth()),E=d.useMemo(()=>{if(!c)return Q;let e=[];for(let m=u;m<=i;m++)e.push(m);return e},[a,c]),B=d.useMemo(()=>{if(!c||u<f&&f<i)return Y;if(f>u&&i===f)return w(0,y);if(f===i)return w(M,y);if(f<i)return w(M,11)},[c,a]),J=()=>{r(!0)},L=()=>{const e=new Date(k(a),C(a)-1);h(e)},W=()=>{const e=new Date(k(a),C(a)+1);h(e)},j=e=>{n(e.toLocaleDateString("en-US",G)),p(e),r(!1)},v=()=>{let e=Number(o.current.value),m=Number(g.current.value);(e<u||e===u&&m<M)&&(e=u,m=M),(e>i||e===i&&m>y)&&(e=i,m=y),h(new Date(e,m))};return T("div",{className:"wrapper",children:[l(U,{variant:"filled",value:t,onClick:J}),s&&T("div",{className:"calendar",children:[T("div",{className:"header",children:[l(S,{onClick:L,content:"<",size:"s",color:"secondary",variant:"outlined",disabled:$}),l("select",{className:"months",onChange:v,ref:g,value:a.getMonth(),children:B.map(e=>l("option",{value:Y.indexOf(e),children:e},e))}),l("select",{className:"years",ref:o,onChange:v,value:a.getFullYear(),children:E.map(e=>l("option",{value:e,children:e},e))}),l(S,{onClick:W,content:">",size:"s",color:"secondary",variant:"outlined",disabled:z})]}),l("div",{className:"days",children:T("table",{children:[l("thead",{children:l("tr",{children:K.map(e=>l("th",{className:"size",children:e},e))})}),l("tbody",{children:A.map((e,m)=>l("tr",{className:"week",children:e.map((F,H)=>F?l(P,{date:F,onSelectDay:j,className:_(F,D)&&"selectedDay"},F.getTime()):l("td",{},H))},m))})]})})]})]})};R.__docgenInfo={description:"",methods:[],displayName:"DatePicker"};const ce={title:"Example/DatePicker",component:R,tags:["autodocs"]},N={args:{size:"m"}};var x,I,O;N.parameters={...N.parameters,docs:{...(x=N.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    size: 'm'
  }
}`,...(O=(I=N.parameters)==null?void 0:I.docs)==null?void 0:O.source}}};const ie=["Dark"];export{N as Dark,ie as __namedExportsOrder,ce as default};
